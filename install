local function get(url)
    print("GET from "..url)
    local response = http.get(
       url
    )
        
    if response then
        print( "GET success." )
        
        local sResponse = response.readAll()
        response.close()
        return sResponse
    else
        printError( "GET Failed." )
    end
end

function basename(str)
	local name = string.gsub(str, "(.*/)(.*)", "%2")
	return name
end

local function download(url)
    local sFile = basename(url)
    local sPath = shell.resolve( sFile )
    local res = get(url)
    if fs.exists(sPath) then fs.delete(sPath) end
    local file = fs.open(sPath, "w")
    if res then        
        local file = fs.open(sPath, "w")
        file.write( res )
        file.close()
        
        print( "Downloaded as "..sFile )
    end 
end

urls = {
    "https://raw.githubusercontent.com/FrankWhoee/NerdgeCraft/master/install",
    "https://raw.githubusercontent.com/FrankWhoee/NerdgeCraft/master/resources/mine",
    "https://raw.githubusercontent.com/FrankWhoee/NerdgeCraft/master/movement/down",
    "https://raw.githubusercontent.com/FrankWhoee/NerdgeCraft/master/movement/forward",
    "https://raw.githubusercontent.com/FrankWhoee/NerdgeCraft/master/movement/left",
    "https://raw.githubusercontent.com/FrankWhoee/NerdgeCraft/master/movement/right",
    "https://raw.githubusercontent.com/FrankWhoee/NerdgeCraft/master/movement/up",
    "https://raw.githubusercontent.com/FrankWhoee/NerdgeCraft/master/movement/salt",
}

for i,url in ipairs(urls) do
    download(url)
end

